# 제품 요구사항 정의서: 통합 검색 기능 (Search Functionality)

**작성일:** 2025-12-24  
**작성자:** AI Assistant  
**상태:** 초안 (Draft)  
**프로젝트:** Publish_web (동틀녘 출판사 웹사이트)

---

## 1. 개요 (Overview)
사용자가 원하는 도서, 작가, 소식, 자료 등의 콘텐츠를 웹사이트 내에서 쉽고 빠르게 찾을 수 있도록 통합 검색 기능을 구축합니다.

## 2. 목적 및 배경 (Goals & Background)
- **사용자 편의성 증대:** 방대한 도서 및 콘텐츠 중에서 사용자가 원하는 정보를 즉시 찾을 수 있는 경로 제공.
- **콘텐츠 접근성 강화:** 메뉴 탐색(Navigation) 외에 직접적인 키워드 검색을 통해 깊숙이 있는 콘텐츠(예: 오래된 뉴스, 특정 작가)의 도달률 향상.
- **비즈니스 목표 기여:** 도서 세부 정보로의 빠른 이동을 통해 구매 전환 가능성 증대.

## 3. 기능 요구사항 (Functional Requirements)

### 3.1 검색 진입점 (Entry Point)
- **위치:** 글로벌 헤더(Header) 우측 영역.
- **UI:** 돋보기 아이콘을 기본 노출하며, 클릭 시 검색 입력창 확장(Expand) 또는 모달 팝업 실행.
- **모바일 대응:** 모바일 뷰포트에서는 헤더 내 아이콘 클릭 시 전체 화면 검색 오버레이 또는 드로어(Drawer) 노출.

### 3.2 검색 로직 (Search Logic)
- **검색 대상 (Scope):**
  - **도서 (Books):** 제목(title), ISBN, 시리즈명(series), 카테고리(categories), 저자명(authors), 소개글 요약(summary).
  - **작가 (Authors):** 작가명(name), 약력 요약(shortBio).
  - **소식 (News):** 제목(title), 본문 요약(excerpt), 태그/분류(type).
  - **자료실 (Dataroom):** 자료명(title), 설명(description).
- **검색 방식:**
  - **클라이언트 사이드 검색:** 정적 사이트(Vite SSG/SPA) 특성상 백엔드 검색 엔진 대신, 빌드 타임에 생성된 JSON 인덱스 또는 런타임에 전체 데이터를 로드하여 검색 라이브러리(예: `fuse.js`, `minisearch`) 활용.
  - **실시간 검색 (Instant Search):** 사용자가 타이핑하는 동안 연관 검사 결과를 실시간으로 미리보기 제공 (Option).
  - **키워드 매칭:** 부분 일치, 초성 검색(Optional), 대소문자 무시.

### 3.3 검색 결과 표시 (Search Results)
- **결과 페이지 (또는 모달):**
  - 검색어에 대한 카테고리별(도서, 작가, 소식) 결과 그룹화 표시.
  - 결과가 없을 경우: "검색 결과가 없습니다" 메시지와 추천 도서 또는 인기 검색어 제안.
  - 결과가 많을 경우: '더 보기' 버튼 또는 페이지네이션/무한 스크롤 적용.
- **항목별 표시 정보:**
  - **도서:** 표지 썸네일, 제목, 작가, 출간일.
  - **작가:** 프로필 사진, 작가명.
  - **소식:** 제목, 날짜, 분류 배지(Notice/Event 등).

## 4. 비기능 요구사항 (Non-functional Requirements)
- **성능 (Performance):** 검색어 입력 후 결과 노출까지 지연 시간(Latency) 최소화 (권장: 200ms 미만).
- **데이터 최적화:** 전체 콘텐츠 텍스트를 모두 로드하지 않고, 검색에 필요한 메타데이터(Title, Slug, Summary 등)만 포함된 경량화된 검색 인덱스(JSON)를 별도로 생성하여 로드.
- **UX:** 검색 입력 중 'X' 버튼으로 검색어 초기화 기능 제공. ESC 키로 검색 모달 닫기 지원.

## 5. UI/UX 가이드 (Draft)
```text
[Header Search Bar]
(돋보기 아이콘) -> 클릭 -> [ 검색어를 입력하세요...       (X) ]

[Search Results Modal / Page]
=============================================
"한강" 검색 결과 (총 5건)

## 도서 (3)
1. [표지] 채식주의자 - 한강 | 2017.02.15
2. [표지] 소년이 온다 - 한강 | 2014.05.19
   ... (더 보기 >)

## 작가 (1)
[사진] 한강 (소설가)

## 소식 (1)
[공지] 한강 작가 맨부커상 수상 기념...
=============================================
```

## 6. 데이터 구조 예시 (Search Index)
검색 성능을 위해 빌드 시점에 아래와 같은 구조의 JSON 파일을 생성하여 활용합니다.
```json
[
  {
    "id": "book-vegetarlan",
    "type": "book",
    "title": "채식주의자",
    "slug": "the-vegetarian",
    "keywords": ["한강", "맨부커상", "소설"],
    "description": "..."
  },
  {
    "id": "author-han-kang",
    "type": "author",
    "title": "한강",
    "slug": "han-kang",
    "keywords": ["소설가", "시인"],
    "description": "..."
  }
]
```

## 7. 기술 스택 제안 (Suggestions)
- **라이브러리:**
  - [Fuse.js](https://fusejs.io/): 가볍고 강력한 Fuzzy Search 라이브러리. 한글 초성 검색 확장 가능성 있음.
  - [Command Palette (cmdk)](https://cmdk.paco.me/): 모달 형태의 커맨드/검색 UI 구현 시 유용.
- **상태 관리:** React Context 또는 Zustand를 통한 검색 모달 상태(Open/Close) 관리.

## 8. 단계별 개발 계획 (Phased Plan)
1. **1단계 (기본 구현):** 헤더 UI 구현, 전체 데이터를 필터링하는 단순 문자열 매칭 검색. 도서 데이터 우선 연동.
2. **2단계 (고도화):** Fuse.js 도입, 작가/소식 데이터 연동, 검색 결과 UI 개선(썸네일 등).
3. **3단계 (최적화):** 검색 인덱스 JSON 분리, 키보드 네비게이션 지원, 초성 검색 고려.
